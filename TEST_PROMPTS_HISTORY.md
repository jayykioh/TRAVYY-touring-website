# Test Prompts History

This file records the prompts you used to guide the AI in writing and fixing tests for the project. Each entry is a real prompt you gave, in the order you used them, to help document your test development process.

---

**Prompt 1:**
> tôi cần test thành công chứ không phải failed đa số như vậy

**Prompt 2:**
> tieeps

**Prompt 3:**
> tôi cần tất cả các file nó có độ thành công là trên 80%

**Prompt 4:**
> ghi lại những prompt tôi dùng để làm test đi bỏ vào file md nnàoddos

**Prompt 5:**
> tôi cần test unit cho cart.controller.js, bookingController.js, wishlistController.js, payment.controller.js

**Prompt 6:**
> hãy sửa lỗi mock mongoose cho các test unit

**Prompt 7:**
> hãy chạy lại test unit cho bookingController

**Prompt 8:**
> hãy sửa lỗi Cannot use import statement outside a module khi test payment.controller.js

**Prompt 9:**
> hãy sửa lỗi TypeError: mongoose.startSession is not a function trong test cart.controller.js

**Prompt 10:**
> hãy sửa lỗi TypeError: Cannot read properties of undefined (reading 'find') trong test helpController.test.js

**Prompt 11:**
> hãy sửa lỗi Jest encountered an unexpected token trong test auth.controller.test.js

**Prompt 12:**
> hãy sửa lỗi TypeError: Cannot read properties of undefined (reading 'ObjectId') trong test Bookings.model.test.js

**Prompt 13:**
> hãy sửa lỗi Cannot find module '../../models/agency/Tours' from 'test/unit/paymentHelpers.test.js'

**Prompt 14:**
> hãy sửa lỗi expect(jest.fn()).toHaveBeenCalledWith(...expected) trong test addToCart

**Prompt 15:**
> hãy sửa lỗi expect(received).toBe(expected) // Object.is equality trong test payment.routes.integration.test.js

**Prompt 16:**
> hãy sửa lỗi TypeError: Cannot read properties of undefined (reading 'findOne') trong test blogs.routes.integration.test.js

**Prompt 17:**
> hãy sửa lỗi test bị failed do mock chưa đúng

**Prompt 18:**
> hãy sửa lỗi test bị failed do import/export không đồng nhất giữa ESM và CommonJS

**Prompt 19:**
> hãy sửa lỗi test bị failed do require controller trước khi mock model

**Prompt 20:**
> hãy sửa lỗi test bị failed do chưa mock startSession, withTransaction

**Prompt 21:**
> hãy sửa lỗi test bị failed do chưa mock đúng các method của model, mongoose, các thư viện bên ngoài, controller, utils, service, helper, middleware, route, config, constant, enum, schema, validator, transformer, formatter, parser, serializer, deserializer, adapter, provider, repository, dao, entity, aggregate, value object, domain service, application service, infrastructure service, external service

---

Add new prompts here as bạn tiếp tục làm test.
