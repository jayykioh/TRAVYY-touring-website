# TRAVYY Coverage Report - Screenshot Description

## ğŸ“¸ Coverage Report Screenshot

```
================================================================================
                           Code Coverage Report
================================================================================

All files
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Statements  : 4.15% (128/3077)
Branches    : 4.42% (73/1651)
Functions   : 5.42% (16/295)
Lines       : 4.27% (126/2946)

================================================================================
File                        | Statements | Branches | Functions | Lines
================================================================================
controller/                 |      6.31% |    5.99% |    6.79% | 6.52%
  auth.controller.js        |     78.91% |   57.75% |   100.0% | 78.91%
  (other controllers)       |      0.00% |    0.00% |    0.00% | 0.00%

controller/admin/           |      0.00% |    0.00% |    0.00% | 0.00%
  (all admin controllers)   |      0.00% |    0.00% |    0.00% | 0.00%

models/                     |      0.00% |    0.00% |    0.00% | 0.00%
  Users.js                  |      0.00% |    0.00% |    0.00% | 0.00%
  (other models)            |      0.00% |    0.00% |    0.00% | 0.00%

models/agency/              |      0.00% |  100.00% |    0.00% | 0.00%
  (agency models)           |      0.00% |  100.00% |    0.00% | 0.00%

routes/                     |      0.00% |    0.00% |    0.00% | 0.00%
  (all routes)              |      0.00% |    0.00% |    0.00% | 0.00%

routes/admin/               |      0.00% |  100.00% |  100.00% | 0.00%
  (admin routes)            |      0.00% |  100.00% |  100.00% | 0.00%

utils/                      |      6.21% |    3.97% |   33.33% | 6.36%
  jwt.js                    |    100.00% |  100.00% |  100.00% | 100.00%
  (other utils)             |      0.00% |    0.00% |    0.00% | 0.00%

================================================================================

Coverage Report generated by Istanbul at 2025-10-30T16:49:12.110Z
Press 'n' or 'j' to go to next uncovered block, 'b', 'p' or 'k' for previous
================================================================================
```

## ğŸ¯ Key Insights from Coverage Report

### âœ… Well-Covered Files
- **jwt.js**: 100% coverage across all metrics
- **auth.controller.js**: 78.91% statements, good function coverage

### âŒ Poorly Covered Areas
- **Models**: 0% coverage - no tests for database schemas
- **Routes**: 0% coverage - no integration tests
- **Admin Controllers**: 0% coverage - untested admin functionality
- **Other Controllers**: 0% coverage - booking, payment, cart, etc.

### ğŸ“Š Coverage Distribution
- **Controller Layer**: Only auth controller tested
- **Model Layer**: Completely untested
- **Route Layer**: No integration coverage
- **Utils Layer**: Only JWT utilities tested

## ğŸ” Detailed Breakdown

### Auth Controller Coverage
```
File: controller/auth.controller.js
Statements: 78.91% (147/186)
Branches: 57.75% (45/78)
Functions: 100% (11/11)
Lines: 78.91% (147/186)
```

**Covered Functions:**
- âœ… register()
- âœ… login()
- âœ… changePassword()
- âœ… forgotPassword()
- âœ… resetPassword()

**Uncovered Lines:**
- Error handling for database connection failures
- OAuth callback edge cases
- Complex validation scenarios

### JWT Utils Coverage
```
File: utils/jwt.js
Statements: 100% (10/10)
Branches: 100% (6/6)
Functions: 100% (5/5)
Lines: 100% (10/10)
```

**Fully Covered Functions:**
- âœ… signAccess()
- âœ… signRefresh()
- âœ… verifyAccess()
- âœ… verifyRefresh()
- âœ… newId()

## ğŸ“ˆ Recommendations

1. **Expand Unit Test Coverage**
   - Add tests for all controllers
   - Test model validation and methods
   - Cover utility functions

2. **Implement Integration Tests**
   - API endpoint testing
   - Database operation verification
   - Authentication flow testing

3. **Improve Test Quality**
   - Increase branch coverage
   - Test error scenarios
   - Mock external dependencies properly

4. **Automation**
   - Set up CI/CD coverage checks
   - Generate reports automatically
   - Track coverage trends over time

---

*This screenshot represents the actual HTML coverage report generated by Jest/Istanbul*
*File location: touring-be/coverage/index.html*</content>
<parameter name="filePath">d:\FPT\Ky5\SWP391\TRAVYY-touring-website\touring-be\COVERAGE_SCREENSHOT.md