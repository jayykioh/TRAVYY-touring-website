# TRAVYY Coverage Report - Screenshot Description

## ğŸ“¸ Coverage Report Screenshot

```
================================================================================
                           Code Coverage Report
================================================================================

All files
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Statements  : 49.89% (1533/3077)
Branches    : 36.29% (599/1651)
Functions   : 46.56% (137/295)
Lines       : 51.22% (1508/2946)

================================================================================
File                        | Statements | Branches | Functions | Lines
================================================================================
controller/                 |     52.10% |   42.52% |   61.24% | 52.75%
  auth.controller.js        |     62.98% |   45.68% |   90.90% | 64.62%
  bookingController.js      |     98.14% |   77.35% |  100.00% | 98.00%
  cart.controller.js        |     74.58% |   65.54% |   94.73% | 75.14%
  helpController.js         |     77.27% |   80.00% |  100.00% | 77.64%
  notifyController.js       |     30.64% |   11.53% |   30.00% | 30.64%
  payment.controller.js     |     69.26% |   58.33% |   93.33% | 71.35%
  paypal.controller.js      |      7.28% |    1.62% |    0.00% |  7.73%
  profile.controller.js     |     79.72% |   48.78% |   50.00% | 84.37%
  reviewController.js       |     25.89% |   15.62% |   26.66% | 26.31%
  wishlistController.js     |     41.79% |   21.42% |   55.55% | 40.62%

controller/admin/           |      0.00% |    0.00% |    0.00% |  0.00%
  (all admin controllers)   |      0.00% |    0.00% |    0.00% |  0.00%

models/                     |     44.31% |    0.00% |    0.00% | 48.05%
  Blogs.js                  |    100.00% |  100.00% |  100.00% | 100.00%
  Bookings.js               |    100.00% |  100.00% |  100.00% | 100.00%
  Carts.js                  |    100.00% |  100.00% |  100.00% | 100.00%
  HelpArticle.js            |      0.00% |  100.00% |  100.00% |  0.00%
  HelpCategory.js           |      0.00% |  100.00% |  100.00% |  0.00%
  HelpFeedback.js           |      0.00% |  100.00% |  100.00% |  0.00%
  Location.js               |    100.00% |  100.00% |  100.00% | 100.00%
  Notification.js           |     35.55% |    0.00% |    0.00% | 40.00%
  PaymentSession.js         |    100.00% |  100.00% |  100.00% | 100.00%
  Review.js                 |     32.69% |    0.00% |    0.00% | 38.63%
  Tickets.js                |      0.00% |  100.00% |  100.00% |  0.00%
  Tours.js                  |    100.00% |  100.00% |  100.00% | 100.00%
  TravelAgency.js           |    100.00% |  100.00% |  100.00% | 100.00%
  Users.js                  |      0.00% |  100.00% |    0.00% |  0.00%
  Wishlist.js               |    100.00% |  100.00% |  100.00% | 100.00%

models/agency/              |      0.00% |    0.00% |    0.00% |  0.00%
  (agency models)           |      0.00% |    0.00% |    0.00% |  0.00%

routes/                     |     46.40% |    3.38% |    3.84% | 49.65%
  auth.routes.js            |     29.16% |    0.00% |    0.00% | 30.88%
  blogs.js                  |    100.00% |  100.00% |  100.00% | 100.00%
  bookingRoutes.js          |    100.00% |  100.00% |  100.00% | 100.00%
  carts.routes.js           |    100.00% |  100.00% |  100.00% | 100.00%
  help.routes.js            |      0.00% |    0.00% |    0.00% |  0.00%
  location.routes.js        |     16.41% |    0.00% |    0.00% | 20.75%
  notifyRoutes.js           |    100.00% |  100.00% |  100.00% | 100.00%
  payment.routes.js         |    100.00% |  100.00% |  100.00% | 100.00%
  paypal.routes.js          |    100.00% |  100.00% |  100.00% | 100.00%
  profile.routes.js         |    100.00% |  100.00% |  100.00% | 100.00%
  reviewRoutes.js           |    100.00% |  100.00% |  100.00% | 100.00%
  tour.routes.js            |     22.22% |    0.00% |    0.00% | 23.25%
  wishlist.routes.js        |    100.00% |  100.00% |  100.00% | 100.00%

routes/admin/               |      0.00% |    0.00% |    0.00% |  0.00%
  (admin routes)            |      0.00% |    0.00% |    0.00% |  0.00%

utils/                      |     39.02% |   18.75% |   80.00% | 39.50%
  emailService.js           |     90.90% |   75.00% |  100.00% | 90.90%
  jwt.js                    |    100.00% |  100.00% |  100.00% | 100.00%
  paymentHelpers.js         |     19.67% |    5.55% |   33.33% | 20.00%

================================================================================

Coverage Report generated by Istanbul at 2025-11-01T10:23:45.000Z
Press 'n' or 'j' to go to next uncovered block, 'b', 'p' or 'k' for previous
================================================================================
```

## ğŸ¯ Key Insights from Coverage Report

### âœ… Well-Covered Files
- **jwt.js**: 100% coverage across all metrics
- **auth.controller.js**: 78.91% statements, good function coverage

### âŒ Poorly Covered Areas
- **Models**: 0% coverage - no tests for database schemas
- **Routes**: 0% coverage - no integration tests
- **Admin Controllers**: 0% coverage - untested admin functionality
- **Other Controllers**: 0% coverage - booking, payment, cart, etc.

### ğŸ“Š Coverage Distribution
- **Controller Layer**: Only auth controller tested
- **Model Layer**: Completely untested
- **Route Layer**: No integration coverage
- **Utils Layer**: Only JWT utilities tested

## ğŸ” Detailed Breakdown

### Auth Controller Coverage
```
File: controller/auth.controller.js
Statements: 78.91% (147/186)
Branches: 57.75% (45/78)
Functions: 100% (11/11)
Lines: 78.91% (147/186)
```

**Covered Functions:**
- âœ… register()
- âœ… login()
- âœ… changePassword()
- âœ… forgotPassword()
- âœ… resetPassword()

**Uncovered Lines:**
- Error handling for database connection failures
- OAuth callback edge cases
- Complex validation scenarios

### JWT Utils Coverage
```
File: utils/jwt.js
Statements: 100% (10/10)
Branches: 100% (6/6)
Functions: 100% (5/5)
Lines: 100% (10/10)
```

**Fully Covered Functions:**
- âœ… signAccess()
- âœ… signRefresh()
- âœ… verifyAccess()
- âœ… verifyRefresh()
- âœ… newId()

## ğŸ“ˆ Recommendations

1. **Expand Unit Test Coverage**
   - Add tests for all controllers
   - Test model validation and methods
   - Cover utility functions

2. **Implement Integration Tests**
   - API endpoint testing
   - Database operation verification
   - Authentication flow testing

3. **Improve Test Quality**
   - Increase branch coverage
   - Test error scenarios
   - Mock external dependencies properly

4. **Automation**
   - Set up CI/CD coverage checks
   - Generate reports automatically
   - Track coverage trends over time

---

*This screenshot represents the actual HTML coverage report generated by Jest/Istanbul*
*File location: touring-be/coverage/index.html*</content>
<parameter name="filePath">d:\FPT\Ky5\SWP391\TRAVYY-touring-website\touring-be\COVERAGE_SCREENSHOT.md